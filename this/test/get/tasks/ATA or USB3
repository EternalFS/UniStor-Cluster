---

- name: try from var
  debug:
    var: ansible_facts.devices[testdisk].vendor
  when: ansible_facts.devices[testdisk].vendor == "ATA"

- name: try from var b
  debug:
    var: ansible_facts.devices[testdiskb].vendor
  when: ansible_facts.devices[testdiskb].vendor == type
